<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>代码雨</title>
		<style>
			* {
				margin: 0px;
				padding: 0px;
			}
			#can {
				display: block;
			}
		</style>
	</head>
	<body>
		<canvas id="can"></canvas>
		<script>
			var canvas=document.getElementById('can')
			var ctx=canvas.getContext('2d');
			var cw=canvas.width = window.innerWidth;
			var ch=canvas.height = window.innerHeight;
			var y=0;
			var x=Math.random() * cw;
			var init=function() {
				this.x=Math.random() * cw;
				this.y=0;
				this.v=Math.random() * 5 + 20;
				this.color="rgb(" + Math.round(Math.random() * 255) + "," + Math.round(Math.random() * 255) + ',' + Math.round(Math.random() * 10) + ')'
				this.add=function() {
					this.y+=this.v;
				}
				this.reset=function() {
					this.x=Math.random() * cw;
					this.y=0;
				}
			}
			var arr = [];
			for(var i = 0; i < 20; i++) {
				arr.push(new init())
			}
			setInterval(function() {
				ctx.fillStyle='rgba(0,0,0,0.05)';
				ctx.fillRect(0, 0, cw, ch);
				for(i = 0; i < arr.length; i++) {
					ctx.fillStyle = arr[i].color;
					ctx.font = "20px 微软雅黑"
					ctx.fillText('s', arr[i].x, arr[i].y);
					if(arr[i].y > ch - 20)
					{
						arr[i].reset()
					}
					arr[i].add()
				}
			}, 1000 / 60)
		</script>
	</body>
</html>